***************
*** 126,140 ****
  					break;
  				case 'update':
  					if (isset($_GET['ID'])) {
- 						$form = new Category;
  						if (isset($_POST['Category'])) {
- 							$form->attributes = $_POST['Category'];
- 							if ($form->save()) {
  								$this->redirect(array('admin/categories', 'action' => 'list'));
  							}
  						}
- 						
- 						$this->render('category/update', array('form' => $form));
  					} else
  						throw new CHttpException(404, "您所访问的地址并不存在!");
  					break;
--- 126,139 ----
  					break;
  				case 'update':
  					if (isset($_GET['ID'])) {
+ 						$category = Category::model()->findByPk($_GET['ID']);
  						if (isset($_POST['Category'])) {
+ 							$category->attributes = $_POST['Category'];
+ 							if ($category->save()) {
  								$this->redirect(array('admin/categories', 'action' => 'list'));
  							}
  						}
+ 						$this->render('category/edit', array('form' => $category));
  					} else
  						throw new CHttpException(404, "您所访问的地址并不存在!");
  					break;
